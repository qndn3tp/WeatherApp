# ì´ ì›Œí¬í”Œë¡œìš°ì˜ ì´ë¦„
name: iOS Build Test

# ì–¸ì œ ì‹¤í–‰í• ì§€ ì •í•˜ê¸°
on:
  push:
    branches: [ main ]

# í•  ì¼ë“¤
jobs:
  build:
    runs-on: macos-latest
    
    steps:
    # 1ë‹¨ê³„: ì½”ë“œ ë‹¤ìš´ë¡œë“œ
    - name: ğŸ“¥ ì½”ë“œ ë‹¤ìš´ë¡œë“œí•˜ê¸°
      uses: actions/checkout@v4
      
    # 2ë‹¨ê³„: ë­ê°€ ë‹¤ìš´ë¡œë“œ ëëŠ”ì§€ í™•ì¸
    - name: ğŸ“‚ í”„ë¡œì íŠ¸ íŒŒì¼ í™•ì¸í•˜ê¸°
      run: |
        echo "=== í˜„ì¬ í´ë”ì— ìˆëŠ” íŒŒì¼ë“¤ ==="
        ls -la
        echo ""
        echo "=== .xcodeproj íŒŒì¼ ì°¾ê¸° ==="
        find . -name "*.xcodeproj"
        echo ""
        echo "=== .xcworkspace íŒŒì¼ ì°¾ê¸° ==="
        find . -name "*.xcworkspace"
    
    # 3ë‹¨ê³„: Xcode ë²„ì „ í™•ì¸
    - name: ğŸ” Xcode ì •ë³´ í™•ì¸
      run: |
        echo "=== Xcode ë²„ì „ ==="
        xcodebuild -version
        echo ""
        echo "=== ì‚¬ìš© ê°€ëŠ¥í•œ ì‹œë®¬ë ˆì´í„° ==="
        xcrun simctl list devices available
    
    # 4ë‹¨ê³„: í”„ë¡œì íŠ¸ ìŠ¤í‚´ í™•ì¸ (ì¼ë‹¨ ì£¼ì„ì²˜ë¦¬)
    # - name: ğŸ“‹ í”„ë¡œì íŠ¸ ìŠ¤í‚´ í™•ì¸
    #   run: xcodebuild -list
    
    - name: ğŸ‰ ì¤€ë¹„ ì™„ë£Œ!
      run: echo "ì½”ë“œ ë‹¤ìš´ë¡œë“œì™€ í™˜ê²½ í™•ì¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"